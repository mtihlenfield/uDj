!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(e,t,n){"use strict";"use_strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=function(){function e(){a(this,e)}return o(e,null,[{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"addClasses",value:function(e,t){for(var n=0;n<t.length;n++)this.addClass(e,t[n])}},{key:"dropClass",value:function(e,t){e.classList.remove(t)}},{key:"dropClasses",value:function(e,t){var n=this;t.forEach(function(t){return n.dropClass(e,t)})}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"toggleClass",value:function(e,t){e.classList.toggle(t)}},{key:"createEleWithAttrs",value:function(e){var t=e.tag,n=void 0===t?"div":t,a=e.idName,o=e.className,s=e.classes,i=document.createElement(n);if(a&&i.setAttribute("id",a),o)i.setAttribute("class",o);else if(s)for(var r=0;r<s.length;r++)this.addClass(i,s[r]);return i}},{key:"dropChildren",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}}]),e}();t.default=s},function(e,t,n){"use strict";"use_strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(8),r=a(i),u=n(0),l=a(u),c=function(){function e(){o(this,e)}return s(e,null,[{key:"fetchArtists",value:function(){return fetch("/api/music/artist").then(function(e){return e.json()}).catch(function(e){return console.log(e)})}},{key:"populateArtists",value:function(t){console.log("populate artists triggered"),console.log(this);return new Promise(function(n,a){for(var o=document.getElementsByClassName("artist-list")[0],s=0;s<t.length;s++){var i=l.default.createEleWithAttrs({tag:"li",idName:"artist-"+t[s].ArtistID,classes:["artist","hover"]});i.innerHTML=t[s].ArtistName,o.appendChild(i)}var r=document.getElementsByClassName("add-song")[0];l.default.dropClass(r,"closed"),setTimeout(e.artistSlide,1e3),n("artists populated")})}},{key:"artistSlide",value:function(){function e(n){var a=this;console.log("clicked"),l.default.dropClass(this,"hover");for(var o=0;o<t.length;o++)!function(e){t[e]!==a&&(l.default.addClass(t[e],"hide"),setTimeout(function(){l.default.addClass(t[e],"no-display")},1e3))}(o);for(var s=0;s<t.length;s++)t[s].removeEventListener("click",e);setTimeout(function(){r.default.fetchAlbums(a)},1e3)}for(var t=document.getElementsByClassName("artist"),n=0;n<t.length;n++)t[n].addEventListener("click",e)}}]),e}();t.default=c},function(e,t){},function(e,t,n){e.exports=n.p+"assets/img/favicon-16x16.png"},function(e,t,n){e.exports=n.p+"assets/img/favicon-32x32.png"},function(e,t,n){e.exports=n.p+"assets/img/pause.png"},function(e,t,n){e.exports=n.p+"assets/img/play.png"},function(e,t,n){e.exports=n.p+"assets/img/skip.png"},function(e,t,n){"use strict";"use_strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),r=a(i),u=n(9),l=a(u),c=function(){function e(){o(this,e)}return s(e,null,[{key:"fetchAlbums",value:function(e){var t=this;fetch("/api/music/artist/"+e.id.split("-")[1]).then(function(e){return e.json()}).then(function(n){return t.populateAlbums(e,n)}).then(this.albumSlide).catch(function(e){return console.log(e)})}},{key:"populateAlbums",value:function(e,t){return console.log("populateAlbums()"),new Promise(function(n,a){for(var o=r.default.createEleWithAttrs({tag:"ul",className:"album-list"}),s=0;s<t.length;s++){var i=r.default.createEleWithAttrs({tag:"li",idName:"album-"+t[s].AlbumID,classes:["album","hover"]});i.innerHTML=t[s].AlbumName,o.appendChild(i)}e.appendChild(o),n()})}},{key:"albumSlide",value:function(){function e(n){var a=this;console.log("albumToggle()"),n.stopPropagation(),r.default.dropClass(this,"hover"),this.removeEventListener("click",e);for(var o=0;o<t.length;o++)!function(e){t[e]!==a&&(r.default.addClass(t[e],"hide"),setTimeout(function(){r.default.addClass(t[e],"no-display")},1e3))}(o);setTimeout(function(){l.default.fetchSongs(a)},1e3)}console.log("albumSlide()");for(var t=document.getElementsByClassName("album"),n=0;n<t.length;n++)t[n].addEventListener("click",e)}}]),e}();t.default=c},function(e,t,n){"use strict";"use_strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(s),r=function(){function e(){a(this,e)}return o(e,null,[{key:"fetchSongs",value:function(e){var t=this;console.log("fetchSongs()"),fetch("/api/music/album/"+e.id.split("-")[1]).then(function(e){return e.json()}).then(function(n){return t.populateSongs(e,n)}).catch(function(e){return console.log(e)})}},{key:"populateSongs",value:function(e,t){console.log("populateSongs()");for(var n=i.default.createEleWithAttrs({tag:"ul",className:"song-list"}),a=0;a<t.length;a++){var o=i.default.createEleWithAttrs({tag:"li",idName:"song-"+t[a].id,classes:["song","hover"]});o.innerHTML=t[a].Name,n.appendChild(o)}e.appendChild(n),this.queueSong()}},{key:"queueSong",value:function(){function e(e){e.stopPropagation(),fetch("/api/queue/request/"+this.id.split("-")[1]).then(function(e){return e.json()}).then(function(e){return console.log(e)}).catch(function(e){return console.log(e)})}for(var t=document.getElementsByClassName("song"),n=0;n<t.length;n++)t[n].addEventListener("click",e)}}]),e}();t.default=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function o(){function e(e){var t=document.getElementsByClassName("current-song")[0];if(!t.children.length){for(var n=[],a=0;a<3;a++)n.push(document.createElement("h4"));n[0].innerHTML=e[0].Name,n[1].innerHTML=e[0].ArtistName,n[2].innerHTML=e[0].AlbumName;for(var o=0;o<n.length;o++)t.appendChild(n[o])}}fetch("/api/queue").then(function(e){return e.json()}).then(function(t){if(t.length){e(t);for(var n=1;n<t.length;n++){for(var a=p.default.createEleWithAttrs({tag:"li",idName:"song-"+t[n].id,classes:["song-box","border-box","center"]}),o=[],s=0;s<3;s++)o.push(document.createElement("span"));o[0].innerHTML=t[n].Name,o[1].innerHTML=t[n].ArtistName,o[2].innerHTML=t[n].AlbumName;for(var i=0;i<o.length;i++)a.appendChild(o[i]);var r=document.getElementsByClassName("queue-list")[0];p.default.dropChildren(r),r.appendChild(a)}}}).catch(function(e){return console.log(e)})}function s(){function e(e){e.stopPropagation();var n=document.getElementsByClassName("add-song")[0];if(p.default.hasClass(n,"closed"))t.innerHTML="Cancel",h.default.fetchArtists().then(h.default.populateArtists).then(function(){var e=document.getElementsByClassName("artist-list")[0];p.default.dropClasses(n,["closed","no-display"]),p.default.dropClass(e,"hide")}).catch(function(e){return console.log(e)});else{t.innerHTML="Add Song";var a=document.getElementsByClassName("artist-list")[0];p.default.addClass(a,"hide"),setTimeout(function(){p.default.dropChildren(document.getElementsByClassName("artist-list")[0]),p.default.addClass(n,"closed"),p.default.addClass(n,"no-display")},1e3)}}var t=document.getElementById("add-song-btn");t.removeEventListener("click",e),t.addEventListener("click",e)}function i(){var e=document.getElementsByClassName("ring-container")[0].style;"running"===e.webkitAnimationPlayState?(e.webkitAnimationPlayState="paused",document.body.className="paused"):(e.webkitAnimationPlayState="running",document.body.className="")}function r(){var e=document.getElementsByClassName("controls")[0].firstElementChild;"play"===e.id?(e.innerHTML="pause",e.id="pause"):(e.innerHTML="play_arrow",e.id="play")}function u(){i(),r()}function l(){return $.post("./api/queue/pause")}function c(){$("#play").click(function(){l().then(u)}),$("#pause").click(function(){l().then(u)})}function f(){return $.post("./api/queue/skip")}n(3),n(4),n(5),n(6),n(7),n(2);var d=n(0),p=a(d),m=n(1),h=a(m);document.addEventListener("DOMContentLoaded",function(){o(),s(),setInterval(function(){o()},115e3),c(),$("#skip").click(f)})}]);